# =============================================================================
# Recipe AI - Environment Variables (Example)
# =============================================================================
# Copy this file to .env and fill in your values

# -----------------------------------------------------------------------------
# Supabase (existing)
# -----------------------------------------------------------------------------
SUPABASE_URL=https://your-project.supabase.co
SUPABASE_SERVICE_ROLE_KEY=your-service-role-key

# -----------------------------------------------------------------------------
# Cloudflare R2 Storage (new for async transcription)
# -----------------------------------------------------------------------------
# Get these from Cloudflare Dashboard > R2 > Manage R2 API Tokens
R2_ACCOUNT_ID=your-cloudflare-account-id
R2_ACCESS_KEY_ID=your-r2-access-key-id
R2_SECRET_ACCESS_KEY=your-r2-secret-access-key
R2_BUCKET_NAME=recipe-ai-media

# Optional: public URL for the bucket (if using custom domain)
# R2_PUBLIC_URL=https://media.your-domain.com

# -----------------------------------------------------------------------------
# Gemini API (existing)
# -----------------------------------------------------------------------------
GEMINI_API_KEY=your-gemini-api-key

# -----------------------------------------------------------------------------
# Application Settings
# -----------------------------------------------------------------------------
APP_ENV=local

# Frontend CORS origins (comma-separated)
# FRONTEND_CORS_ORIGINS=http://localhost:3000,http://localhost:5173

# -----------------------------------------------------------------------------
# Transcription Settings
# -----------------------------------------------------------------------------
# Whisper model: tiny, base, small, medium, large, large-v2, large-v3
WHISPER_MODEL=medium

# Device: auto, cuda, cpu
WHISPER_DEVICE=auto

# Beam size for decoding (higher = better quality, slower)
WHISPER_BEAM_SIZE=5

# Daily transcription limit per user (in minutes)
TRANSCRIPTION_DAILY_LIMIT_MINUTES=60

# Default language for transcription
TRANSCRIPTION_LANGUAGE=pt

# -----------------------------------------------------------------------------
# Worker Settings (for transcriber worker)
# -----------------------------------------------------------------------------
# Unique worker ID (auto-generated if not set)
# WORKER_ID=worker-1

# Polling interval in seconds
WORKER_POLL_INTERVAL=5

# Maximum polling interval (with backoff)
WORKER_MAX_POLL_INTERVAL=30

# Lock TTL in minutes (jobs locked longer are considered stale)
WORKER_LOCK_TTL_MINUTES=30

# Temp directory for downloads
WORKER_TEMP_DIR=/tmp/transcription-worker

# Shutdown after queue is empty for N minutes (0 = never)
# WORKER_EMPTY_SHUTDOWN_MINUTES=10
# WORKER_SHUTDOWN_ON_EMPTY=false

# Max jobs per worker run (0 = infinite)
# WORKER_MAX_JOBS_PER_RUN=0
